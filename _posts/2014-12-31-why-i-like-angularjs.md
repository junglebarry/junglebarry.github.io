---
layout: post
date: 2015-01-01 12:35:54
title: "Why I like AngularJS"
categories: tech angularjs
tags: [tech, whisk, javascript, web, angularjs]
---

In a previous post, I discussed how [Whisk][whisk] had moved from a traditional server-side web application towards a client-side Single Page (web) Application, or SPA.  We've been writing SPAs using a popular   we've been leaning heavily on AngularJS - an [extremely popular][octoverse] framework for developing web applications. I've watched our team make giant leaps with AngularJS, and some of those leaps are due to the framework itself, but others are due to the Singlar Page Application paradigm. I'll discuss aspects of SPAs and AngularJS that make it so potent, but also some things I find a hinderance.

AngularJS is a powerful and - as many have opined - complicated framework for building web applications. It can be used to build pure Single Page (web) Applications (SPAs), and this is the context in which I use it. However, AngularJS can also be used as part of a server-side HTML framework, like [Play][play-angular] or Rails, where much of the HTML is generated by a server-side framework, and AngularJS is used to augment the user experience. I have little experience with this use-case for AngularJS, and will be somewhat biased in my interpretation towards the SPA context.


AngularJS is a pure Javascript framework. It provides the following concepts that are familiar to many web frameworks:

* View and controller separation
* URL structures and routing
* HTML templating
* data binding, between underlying Javascript models and HTML

Being a Single Page Application framework, it reframes this familiarity for client-side development:

* Native client-side HTML template manipulation
* Extensible HTML templates - called [directives][directives]
* Two-way data binding - immediately reflecting changes 

However, for me, Angular's main benefits are:

* Simple support for models from JSON APIs (which should be common to all SPAs)
* Dependency injection (which is particular to AngularJS)

I'll discuss why these make development easier, with reference to a (recent) historical perspective, and why Angular's approach makes sense now. It's not all roses, however, and I'll conclude with my thoughts on weaknesses with AngularJS.

## Out with the old

Back in days of yore, I spent a lot of time writing applications in server-side web frameworks. For context, when I started doing this, I was concerned about whether my code was going to work acceptably in Internet Explorer 6, and IE7 seemed like the promised land. Developers wanted to build interactive web applications with dynamically updating content, unconstrained by the boundaries of "the page".

In this model, server-side code generates the HTML forming the entire page, and sends it to the browser. Dynamism is achieved through Javascript, executed within the browser after the page had fully rendered. Most server-side code was written in PHP, ASP, Java, or similar; client-side code would be written in Javascript. However, These were not merely different languages, but different ways of thinking. Coding within this context is *slow*, because the programmer is perpetually changing mode from server-side to client-side. Reasonable tools (e.g. jQuery) were available for each mode, but there was a boundary between them - the rendered HTML page - and that boundary was a source of perpetual pain.

The preferred method for traversing the barrier and introducing dynamism was AJAX - Asynchronous Javascript and XML. The notion was simple: user interaction would be picked up by Javascript, which would send a message to a server, which responded in turn with some XML, to be merged into the original page, again using Javascript.

To make matters worse, server-side frameworks tended to operate in terms of form submissions, where data is submitted as key-value pairs within a standard HTML form. The trouble is, data don't conform to key-value pairs - we're now all used to JSON and XML and structured data, which are both more generalised representations of data.

It was, of course, possible to write web services that interacted with JSON APIs, but it wasn't commonplace; it was equally possible to simulate structure within form data.

## In with the new

Two big factors 
The big change was probably the advent of mobile applications. Mobile apps didn't use XML or HTML, and instead preferred communicating in raw data. The world fell in love with the JSON web-service, and rightly so. JSON+HTTP became a de facto standard for mobile apps, but webapps were still stuck in the old AJAX mentality. Mobile apps also set a much higher expectation with users, and web technology had to make significant gains to remain competitive.

The paradigm shift for SPAs is to provide a capable client offer is to move away from transmitting ready-rendered HTML (as AJAX) and towards sending data.

For me, the big changes that Single Page Applications offered 



 

## The business case for Single Page Applications

Well, this one is easy: Single Page Applications - at least in AngularJS - are extremely fast to develop. The reason for this is pretty straightforward: a server-side all of that server-side generation of Javascript code that gets executed later on the client

A couple of factors contribute to 
, once you know what you are doing. Moreover, the pattern of programming 

First,

### Dealing with JSON; or: forms no more

One 

## Directives


## Dependency Injection


## Two-way data binding


## What's wrong with AngularJS

In short, it is simply too complicated. The learning curve is famously steep, and even once you've learned and applied most of the lessons, you still find yourself engaged in a dance with circular dependencies or the digest cycle.

The prototypical example is the difference between providers, services, and factories. These are variations 



The SPA pattern is certainly not for every application.

AngularJS is certainly not for every application - 

[whisk]:         https://whisk.com
[octoverse]:     https://octoverse.github.com/
[play-angular]:  https://typesafe.com/activator/template/modern-web-template
[ng-directives]: https://docs.angularjs.org/guide/directive